{"ast":null,"code":"var _jsxFileName = \"/Users/t.j/LeReacteur/5-Re\\u0301act/26/deliveroo/frontend/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport logo from \"./assets/deliveroo.svg\";\nimport Category from \"./components/Category\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faStar, faHome } from \"@fortawesome/free-solid-svg-icons\";\nlibrary.add(faStar, faHome);\n\nfunction App() {\n  const [data, setData] = useState({});\n  const [categories, setCategories] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [quantity, setQuantity] = useState([0]);\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await axios.get(\"https://deliveroo-backend-jt.herokuapp.com/\");\n      setData(response.data);\n      setCategories(response.data.categories);\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, []);\n  console.log(data);\n  return React.createElement(React.Fragment, null, isLoading ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"En cour de chargement...\") : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    className: \"logo\",\n    src: logo,\n    alt: \"logo-Deliveroo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"restaurant-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, data.restaurant.name), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, data.restaurant.description)), React.createElement(\"img\", {\n    src: data.restaurant.picture,\n    alt: data.restaurant.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"grey-back\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"restaurant-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"meals\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, categories.map((category, index) => {\n    if (category.meals.length === 0) {\n      return null;\n    }\n\n    return React.createElement(Category, {\n      setSelectedProducts: setSelectedProducts,\n      selectedProducts: selectedProducts,\n      name: category.name,\n      meals: category.meals,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    });\n  })), React.createElement(\"div\", {\n    className: \"basket\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"valider\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Valider mon panier\"), selectedProducts.map(selectedProduct => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, selectedProduct.title), React.createElement(\"button\", {\n      className: \"button\",\n      onClick: () => {\n        const newQuantity = [...quantity];\n        newQuantity[quantity]--;\n        newQuantity[quantity] = newQuantity[quantity] - 1;\n        setQuantity(newQuantity);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"-\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, selectedProduct.quantity), React.createElement(\"button\", {\n      className: \"button\",\n      onClick: () => {\n        const newQuantity = [...quantity];\n        newQuantity[selectedProduct.quantity]++;\n        newQuantity[selectedProduct.quantity] = newQuantity[selectedProduct.quantity] + 1;\n        setQuantity(newQuantity);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"+\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, selectedProduct.price, \"\\u20AC\"));\n  })))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/t.j/LeReacteur/5-Réact/26/deliveroo/frontend/src/App.js"],"names":["React","useState","useEffect","axios","Category","library","faStar","faHome","add","App","data","setData","categories","setCategories","isLoading","setIsLoading","selectedProducts","setSelectedProducts","quantity","setQuantity","fetchData","response","get","console","log","logo","restaurant","name","description","picture","map","category","index","meals","length","selectedProduct","title","newQuantity","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport logo from \"./assets/deliveroo.svg\";\nimport Category from \"./components/Category\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport { faStar, faHome } from \"@fortawesome/free-solid-svg-icons\";\nlibrary.add(faStar, faHome);\n\n\nfunction App() {\n  const [data, setData] = useState({});\n  const [categories, setCategories] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [quantity, setQuantity] = useState([0]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await axios.get(\n        \"https://deliveroo-backend-jt.herokuapp.com/\"\n      );\n      setData(response.data);\n      setCategories(response.data.categories);\n      setIsLoading(false);\n    };\n\n    fetchData();\n  }, []);\n\n  console.log(data);\n\n  return (\n    <>\n      {isLoading ? (\n        <p>En cour de chargement...</p>\n      ) : (\n        <div>\n          <div className=\"header\">\n            <div className=\"wrapper\">\n              <img className=\"logo\" src={logo} alt=\"logo-Deliveroo\" />\n            </div>\n          </div>\n\n          <div className=\"wrapper\">\n            <div className=\"restaurant-info\">\n              <div>\n                <h1>{data.restaurant.name}</h1>\n                <p>{data.restaurant.description}</p>\n              </div>\n              <img src={data.restaurant.picture} alt={data.restaurant.name} />\n            </div>\n          </div>\n\n          <div className=\"grey-back\">\n            <div className=\"wrapper\">\n              <div className=\"restaurant-details\">\n                <div className=\"meals\">\n                  {categories.map((category, index) => {\n                    if (category.meals.length === 0) {\n                      return null;\n                    }\n                    return (\n                      <Category\n                        setSelectedProducts={setSelectedProducts}\n                        selectedProducts={selectedProducts}\n                        name={category.name}\n                        meals={category.meals}\n                      />\n                    );\n                  })}\n                </div>\n                  <div className=\"basket\">\n                    <button className=\"valider\">Valider mon panier</button>\n                  {selectedProducts.map(selectedProduct => {\n                    return (\n                      <div>\n                        <p>{selectedProduct.title}</p>\n                        <button className=\"button\"\n              onClick={() => {\n                const newQuantity = [...quantity];\n                newQuantity[quantity]--;\n\n                newQuantity[quantity] = newQuantity[quantity] -1;\n                setQuantity(newQuantity);\n              }}\n            >\n            -\n            </button>\n                        <p>{selectedProduct.quantity}</p>\n                        <button className=\"button\"\n              onClick={() => {\n                const newQuantity = [...quantity];\n                newQuantity[selectedProduct.quantity]++;\n\n                newQuantity[selectedProduct.quantity] = newQuantity[selectedProduct.quantity] +1;\n                setQuantity(newQuantity);\n              }}\n            >\n            +\n            </button>\n                        <p>{selectedProduct.price}€</p>\n                      </div>\n                    );\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}